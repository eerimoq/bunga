syntax = "proto3";

package bunga;

message ClientToServer {
    oneof messages {
        ExecuteCommandReq execute_command_req = 1;
    }
}

message ServerToClient {
    oneof messages {
        ExecuteCommandRsp execute_command_rsp = 1;
    }
}

message ExecuteCommandReq {
    // The command string, as "i2c scan /dev/i2c1".
    string command = 2;
}

message ExecuteCommandRsp {
    enum Kind {
        // The command was successful.
        OK = 0;
        // The command failed.
        ERROR = 1;
        // The command not yet completed. Only contains output.
        OUTPUT = 2;
    }

    Kind kind = 1;
    string output = 2;

    // The error message. Only present in error messages.
    string error = 3;
}
